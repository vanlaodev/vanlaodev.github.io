(function(e){function t(t){for(var r,a,o=t[0],u=t[1],c=t[2],l=0,d=[];l<o.length;l++)a=o[l],Object.prototype.hasOwnProperty.call(s,a)&&s[a]&&d.push(s[a][0]),s[a]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);p&&p(t);while(d.length)d.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,a=1;a<n.length;a++){var o=n[a];0!==s[o]&&(r=!1)}r&&(i.splice(t--,1),e=u(u.s=n[0]))}return e}var r={},a={app:0},s={app:0},i=[];function o(e){return u.p+"js/"+({}[e]||e)+"."+{"chunk-0e235cf6":"9aaa924b","chunk-0e25360a":"e5906b50","chunk-163a758a":"4ed74f0c","chunk-1651290b":"9ec4fbd7","chunk-2b14a4cf":"526b8c3a","chunk-2d0c266c":"dd0aaab9","chunk-2d208bfd":"11026f7e","chunk-b94ef2c4":"e0801bf3","chunk-eaa4594c":"04d5abe5","chunk-ff1d6d36":"32f9cd2e"}[e]+".js"}function u(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,u),n.l=!0,n.exports}u.e=function(e){var t=[],n={"chunk-b94ef2c4":1,"chunk-ff1d6d36":1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=new Promise((function(t,n){for(var r="css/"+({}[e]||e)+"."+{"chunk-0e235cf6":"31d6cfe0","chunk-0e25360a":"31d6cfe0","chunk-163a758a":"31d6cfe0","chunk-1651290b":"31d6cfe0","chunk-2b14a4cf":"31d6cfe0","chunk-2d0c266c":"31d6cfe0","chunk-2d208bfd":"31d6cfe0","chunk-b94ef2c4":"0fb0e1a9","chunk-eaa4594c":"31d6cfe0","chunk-ff1d6d36":"8d5a618f"}[e]+".css",s=u.p+r,i=document.getElementsByTagName("link"),o=0;o<i.length;o++){var c=i[o],l=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(l===r||l===s))return t()}var d=document.getElementsByTagName("style");for(o=0;o<d.length;o++){c=d[o],l=c.getAttribute("data-href");if(l===r||l===s)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var r=t&&t.target&&t.target.src||s,i=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=r,delete a[e],p.parentNode.removeChild(p),n(i)},p.href=s;var f=document.getElementsByTagName("head")[0];f.appendChild(p)})).then((function(){a[e]=0})));var r=s[e];if(0!==r)if(r)t.push(r[2]);else{var i=new Promise((function(t,n){r=s[e]=[t,n]}));t.push(r[2]=i);var c,l=document.createElement("script");l.charset="utf-8",l.timeout=120,u.nc&&l.setAttribute("nonce",u.nc),l.src=o(e);var d=new Error;c=function(t){l.onerror=l.onload=null,clearTimeout(p);var n=s[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+r+": "+a+")",d.name="ChunkLoadError",d.type=r,d.request=a,n[1](d)}s[e]=void 0}};var p=setTimeout((function(){c({type:"timeout",target:l})}),12e4);l.onerror=l.onload=c,document.head.appendChild(l)}return Promise.all(t)},u.m=e,u.c=r,u.d=function(e,t,n){u.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},u.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,t){if(1&t&&(e=u(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(u.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)u.d(n,r,function(t){return e[t]}.bind(null,r));return n},u.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return u.d(t,"a",t),t},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},u.p="/",u.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var d=0;d<c.length;d++)t(c[d]);var p=l;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";n("85ec")},"49f8":function(e,t,n){var r={"./en.json":"edd4","./zh-TW.json":"9ea5"};function a(e){var t=s(e);return n(t)}function s(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=s,e.exports=a,a.id="49f8"},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("e792"),n("0cdd");var r,a,s=n("2b0e"),i=(n("159b"),n("d3b7"),n("ddb0"),n("466d"),n("ac1f"),n("a925"));function o(){var e=n("49f8"),t={};return e.keys().forEach((function(n){var r=n.match(/([A-Za-z0-9-_]+)\./i);if(r&&r.length>1){var a=r[1];t[a]=e(n)}})),t}s["default"].use(i["a"]);var u=new i["a"]({locale:null!==(r="zh-TW")&&void 0!==r?r:"zh-TW",fallbackLocale:null!==(a="zh-TW")&&void 0!==a?a:"zh-TW",messages:o()}),c=u,l=n("5f5b"),d=n("b1e0");n("ab8b"),n("2dd8");s["default"].use(l["a"]),s["default"].use(d["a"]);var p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[e.appInitialized?n("div",[n("b-navbar",{attrs:{toggleable:"lg",type:"dark",variant:"dark"}},[n("b-navbar-brand",{attrs:{href:"#"}},[e._v(e._s(e.$t("assetMgmtSystem")))]),n("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),n("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[n("b-navbar-nav",[e.mainMenuItemsAllowToNav&&e.mainMenuItemsAllowToNav.length>0?n("b-nav-item-dropdown",{attrs:{text:e.$t("inventoryOfAssets")}},e._l(e.mainMenuItemsAllowToNav,(function(t,r){return n("b-dropdown-item",{key:r,on:{click:function(n){return e.navToMainMenuItem(t)}}},[e._v(e._s(e.$t(t.titleI18nKey)))])})),1):n("b-nav-item",{attrs:{href:"#"}},[e._v(e._s(e.$t("inventoryOfAssets")))]),n("b-nav-item",{attrs:{href:"#"}},[e._v(e._s(e.$t("assetsManagement")))]),n("b-nav-item",[e._v(e._s(e.$t("transferOfAssets")))]),n("b-nav-item",{attrs:{href:"#"}},[e._v(e._s(e.$t("reports")))])],1),n("b-navbar-nav",{staticClass:"ml-auto"},[n("b-nav-item-dropdown",{scopedSlots:e._u([{key:"button-content",fn:function(){return[n("b-icon-globe",{staticClass:"mr-1",attrs:{"aria-hidden":"true"}}),n("span",[e._v(e._s(e.$t("language")))])]},proxy:!0}])},[n("b-dropdown-item",{on:{click:function(t){return e.updateLocale("zh-TW")}}},[e._v("中文")]),n("b-dropdown-item",{on:{click:function(t){return e.updateLocale("en")}}},[e._v("English")])],1),e.loggedInUser?n("b-nav-item-dropdown",{scopedSlots:e._u([{key:"button-content",fn:function(){return[n("b-icon-person-fill",{staticClass:"mr-1",attrs:{"aria-hidden":"true"}}),e.loggedInUser?n("span",[e._v(e._s(e.loggedInUser.username))]):e._e()]},proxy:!0}],null,!1,301183380)},[n("b-dropdown-item",{attrs:{href:"#"}},[e._v(" "+e._s(e.$t("userProfile"))+" ")]),n("b-dropdown-item",{on:{click:e.signOut}},[e._v(" "+e._s(e.$t("signOut"))+" ")])],1):e._e()],1)],1)],1),n("main",{staticClass:"container py-4",attrs:{role:"main"}},[n("router-view")],1)],1):n("splash-view")],1)},f=[],m=n("c964"),h=n("f3f3"),g=(n("96cf"),n("99af"),n("4de4"),n("b0c0"),n("5319"),n("2f62")),v=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"d-flex flex-column align-items-center justify-content-center",staticStyle:{height:"100vh"}},[n("div",{staticClass:"p-3"},[n("h1",[e._v(e._s(e.appTitle))]),n("h4",{staticClass:"mt-3"},[e._v(e._s(e.$t("msg_appStartup")))]),n("b-progress",{staticClass:"mt-3",attrs:{value:e.initAppProgress,max:e.progressMax,height:"2rem",striped:"",animated:""}})],1)])},b=[],y={name:"SplashView",data:function(){return{progressMax:100}},computed:Object(h["a"])(Object(h["a"])({},Object(g["d"])(["initAppProgress"])),{},{appTitle:function(){return"".concat(this.$t("assetMgmtSystem")," - ").concat(this.$t("inventoryOfAssets"))}})},I=y,k=n("2877"),_=Object(k["a"])(I,v,b,!1,null,null,null),w=_.exports,O=n("276c"),D=n("e954"),x=(n("caad"),n("2532"),function(){function e(t,n,r){Object(O["a"])(this,e),this.titleI18nKey=t,this.routeName=n,this.requireRoles=null!==r&&void 0!==r?r:[]}return Object(D["a"])(e,[{key:"allowNavigate",value:function(e){return 0==this.requireRoles.length||this.requireRoles.filter((function(t){return null!=e&&e.includes(t)})).length>0}}]),e}()),R={items:[new x("inventoryStatistics","Dashboard",["DEPT_USER","DEPT_ADMIN"]),new x("createInventoryForm","CreateInventoryForm",["DEPT_ADMIN"]),new x("inventoryFormManagement","InventoryFormManagement",["DEPT_ADMIN"]),new x("takeInventory","TakeInventory",["DEPT_USER","DEPT_ADMIN"]),new x("logs","Logs",["SYS_ADMIN"])]},A=R;function T(e){return new Promise((function(t){setTimeout(t,e)}))}var M={created:function(){var e=this;this.initializeApp().then((function(){e.$bus.$on("LOGIN_REQUIRED",e.signOut),e.$bus.$on("LOCALE_UPDATED",(function(){return document.title=e.documentTitle}))}))},beforeDestroy:function(){this.$bus.$off("LOGIN_REQUIRED"),this.$bus.$off("LOCALE_UPDATED")},components:{SplashView:w},computed:Object(h["a"])(Object(h["a"])({},Object(g["d"])(["appInitialized","loggedInUser","locale"])),{},{documentTitle:function(){return"".concat(this.$t("assetMgmtSystem")," - ").concat(this.$t("inventoryOfAssets"))},mainMenuItemsAllowToNav:function(){var e=this;return A.items.filter((function(t){var n;return t.allowNavigate(null===(n=e.loggedInUser)||void 0===n?void 0:n.roles)}))}}),methods:Object(h["a"])(Object(h["a"])(Object(h["a"])({},Object(g["b"])(["initStore","updateLocale","updateLoggedInUser"])),Object(g["c"])(["setAppInitialized","setInitAppProgress"])),{},{navToMainMenuItem:function(e){this.$router.push({name:e.routeName}).catch((function(){}))},signOut:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$api.userMgmtApi.signOut();case 3:t.next=7;break;case 5:t.prev=5,t.t0=t["catch"](0);case 7:return t.prev=7,t.next=10,e.updateLoggedInUser(null);case 10:return e.redirectToLoginUrl(),t.finish(7);case 12:case"end":return t.stop()}}),t,null,[[0,5,7,12]])})))()},redirectToLoginUrl:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$router.push({name:"TempSignIn"});case 2:e.setAppInitialized(!0);case 3:case"end":return t.stop()}}),t)})))()},initializeApp:function(){var e=this;return Object(m["a"])(regeneratorRuntime.mark((function t(){var n,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.appInitialized){t.next=2;break}return t.abrupt("return");case 2:return e.setInitAppProgress(30),t.next=5,e.initStore();case 5:if(document.title=e.documentTitle,n=e.$route.query.accessToken,!n){t.next=28;break}return t.prev=8,window.history.replaceState(null,null,window.location.pathname),t.next=12,e.$api.userMgmtApi.getUserInfoByAccessToken(n);case 12:if(r=t.sent,e.setInitAppProgress(80),!r){t.next=20;break}return t.next=17,e.updateLoggedInUser(r);case 17:e.setInitAppProgress(90),t.next=22;break;case 20:return e.redirectToLoginUrl(),t.abrupt("return");case 22:t.next=28;break;case 24:return t.prev=24,t.t0=t["catch"](8),e.redirectToLoginUrl(),t.abrupt("return");case 28:if(e.loggedInUser){t.next=31;break}return e.redirectToLoginUrl(),t.abrupt("return");case 31:return e.setInitAppProgress(100),t.next=34,T(550);case 34:if(e.setAppInitialized(!0),a=A.items.filter((function(t){return e.$route.name===t.routeName})),!(a.length>0)||a[0].allowNavigate(null==e.loggedInUser?[]:e.loggedInUser.roles)){t.next=39;break}return e.$router.replace({name:"PermissionDenied",query:{originalPath:e.$route.path}}),t.abrupt("return");case 39:case"end":return t.stop()}}),t,null,[[8,24]])})))()}})},U=M,L=(n("034f"),Object(k["a"])(U,p,f,!1,null,null,null)),j=L.exports,S=(n("3ca3"),n("8c4f")),E=n("a002"),P=n.n(E),N=new s["default"],C=N;s["default"].use(g["a"]);var $=new g["a"].Store({state:{appInitialized:!1,initAppProgress:0,storeInitialized:!1,loggedInUser:null,locale:null,deptList:[{value:"1",text:"DOI"},{value:"2",text:"DAF"},{value:"3",text:"DRC"}]},mutations:{setInitAppProgress:function(e,t){e.appInitialized||(e.initAppProgress=t)},setAppInitialized:function(e){e.appInitialized=!0},setStoreInitialized:function(e){e.storeInitialized=!0},setLoggedInUser:function(e,t){e.loggedInUser=t},setLocale:function(e,t){c.locale=t,e.locale=t}},actions:{initStore:function(e){return Object(m["a"])(regeneratorRuntime.mark((function t(){var n,r,a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=e.commit,s=e.state,!s.storeInitialized){t.next=3;break}return t.abrupt("return");case 3:return t.t0=a,t.next=6,P.a.getItem("locale");case 6:if(t.t3=r=t.sent,t.t2=null!==t.t3,!t.t2){t.next=10;break}t.t2=void 0!==r;case 10:if(!t.t2){t.next=14;break}t.t4=r,t.next=15;break;case 14:t.t4="zh-TW";case 15:if(t.t5=n=t.t4,t.t1=null!==t.t5,!t.t1){t.next=19;break}t.t1=void 0!==n;case 19:if(!t.t1){t.next=23;break}t.t6=n,t.next=24;break;case 23:t.t6="zh-TW";case 24:return t.t7=t.t6,(0,t.t0)("setLocale",t.t7),a("setInitAppProgress",45),t.t8=a,t.next=30,P.a.getItem("loggedInUser");case 30:t.t9=t.sent,(0,t.t8)("setLoggedInUser",t.t9),a("setInitAppProgress",60),a("setStoreInitialized");case 34:case"end":return t.stop()}}),t)})))()},updateLoggedInUser:function(e,t){return Object(m["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,r("setLoggedInUser",t),n.next=4,P.a.setItem("loggedInUser",t);case 4:case"end":return n.stop()}}),n)})))()},updateLocale:function(e,t){return Object(m["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.commit,r("setLocale",t),n.next=4,P.a.setItem("locale",t);case 4:C.$emit("LOCALE_UPDATED",t);case 5:case"end":return n.stop()}}),n)})))()}}}),F=$,z=function(){return n.e("chunk-eaa4594c").then(n.bind(null,"7277"))},q=function(){return n.e("chunk-ff1d6d36").then(n.bind(null,"a6dd"))},B=function(){return n.e("chunk-b94ef2c4").then(n.bind(null,"f647"))},Y=function(){return n.e("chunk-0e235cf6").then(n.bind(null,"dcc2"))},W=function(){return n.e("chunk-163a758a").then(n.bind(null,"0528"))},H=function(){return n.e("chunk-2d208bfd").then(n.bind(null,"a5b5"))},J=function(){return n.e("chunk-2d0c266c").then(n.bind(null,"49c4"))},V=function(){return n.e("chunk-1651290b").then(n.bind(null,"b361"))},G=function(){return n.e("chunk-0e25360a").then(n.bind(null,"bbae"))},K=function(){return n.e("chunk-2b14a4cf").then(n.bind(null,"7afb"))};s["default"].use(S["a"]);var Q=[{path:"/dashboard",name:"Dashboard",alias:["/"],component:z},{path:"/tempSignIn",name:"TempSignIn",component:K},{path:"/takeInventory",name:"TakeInventory",component:q},{path:"/takeInventoryDetail/:id",name:"TakeInventoryDetail",component:B},{path:"/createInventoryForm",name:"CreateInventoryForm",component:Y},{path:"/editInventoryForm/:id",name:"EditInventoryForm",component:V},{path:"/inventoryFormManagement",name:"InventoryFormManagement",component:W},{path:"/logs",name:"Logs",component:G},{path:"/permissionDenied",name:"PermissionDenied",component:J},{path:"*",name:"PageNotFound",component:H}],Z=new S["a"]({mode:"history",base:"/",routes:Q}),X=S["a"].prototype.push;S["a"].prototype.push=function(e){return X.call(this,e).catch((function(e){if("NavigationDuplicated"!==e.name)throw e}))},Z.beforeEach((function(e,t,n){if(F.state.appInitialized){var r=A.items.filter((function(t){return e.name===t.routeName}));if(r.length>0&&!r[0].allowNavigate(null==F.state.loggedInUser?[]:F.state.loggedInUser.roles))return void n({name:"PermissionDenied",replace:!0,query:{originalPath:null==t?null:t.path}})}n()}));var ee=Z,te=n("d0ff"),ne=(n("d81d"),n("bc3a")),re=n.n(ne),ae=n("5a0c"),se=n("d758");ae["extend"](se);var ie=function(){function e(t){Object(O["a"])(this,e),this.baseUrl=t,this.httpClient=re.a.create({baseURL:t,transformRequest:[function(e){return F.state.loggedInUser&&(e||(e={}),e=Object.assign(e,{accessToken:F.state.loggedInUser.accessToken})),e}].concat(Object(te["a"])(re.a.defaults.transformRequest))})}return Object(D["a"])(e,[{key:"createMaster",value:function(){var e=Object(m["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this._assertUserLoggedIn(),e.next=3,this.httpClient.post("v1/createMaster",t);case 3:return n=e.sent,e.abrupt("return",this._handleResp(n.data));case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"searchMaster",value:function(){var e=Object(m["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this._assertUserLoggedIn(),e.next=3,this.httpClient.post("v1/searchMaster",t);case 3:return n=e.sent,r=this._handleResp(n.data),e.abrupt("return",null==r?[]:r.map(this._mapInventoryMasterDto));case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"searchMasterByOwner",value:function(){var e=Object(m["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this._assertUserLoggedIn(),e.next=3,this.httpClient.post("v1/searchMasterByHolder",{holderName:t});case 3:return n=e.sent,r=this._handleResp(n.data),e.abrupt("return",null==r?[]:r.map(this._mapInventoryMasterDto));case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getMasterById",value:function(){var e=Object(m["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this._assertUserLoggedIn(),e.next=3,this.httpClient.post("v1/searchMasterById",{id:t});case 3:return n=e.sent,r=this._handleResp(n.data),e.abrupt("return",this._mapInventoryMasterDto(r));case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"updateMaster",value:function(){var e=Object(m["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this._assertUserLoggedIn(),e.next=3,this.httpClient.post("v1/editMaster",t);case 3:return n=e.sent,e.abrupt("return",this._handleResp(n.data));case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"deleteMaster",value:function(){var e=Object(m["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this._assertUserLoggedIn(),e.next=3,this.httpClient.post("v1/deleteMaster",{id:t});case 3:return n=e.sent,e.abrupt("return",this._handleResp(n.data));case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"searchDetail",value:function(){var e=Object(m["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this._assertUserLoggedIn(),e.next=3,this.httpClient.post("v1/searchDetail",t);case 3:return n=e.sent,r=this._handleResp(n.data),e.abrupt("return",r?r.map(this._mapInventoryDetailDto):[]);case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"createDetail",value:function(){var e=Object(m["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this._assertUserLoggedIn(),e.next=3,this.httpClient.post("v1/createDetail",t);case 3:return n=e.sent,e.abrupt("return",this._handleResp(n.data));case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"updateDetail",value:function(){var e=Object(m["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this._assertUserLoggedIn(),e.next=3,this.httpClient.post("v1/editDetail",t);case 3:return n=e.sent,e.abrupt("return",this._handleResp(n.data));case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"deleteDetail",value:function(){var e=Object(m["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this._assertUserLoggedIn(),e.next=3,this.httpClient.post("v1/deleteDetail",{id:t});case 3:return n=e.sent,e.abrupt("return",this._handleResp(n.data));case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getDashboardProgress",value:function(){var e=Object(m["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this._assertUserLoggedIn(),e.next=3,this.httpClient.post("v1/dashboardProgress");case 3:return t=e.sent,e.abrupt("return",this._handleResp(t.data));case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getDashboardMasterCount",value:function(){var e=Object(m["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this._assertUserLoggedIn(),e.next=3,this.httpClient.post("v1/dashboardMasterCount");case 3:return t=e.sent,e.abrupt("return",this._handleResp(t.data));case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getDashBoardDetailCount",value:function(){var e=Object(m["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this._assertUserLoggedIn(),e.next=3,this.httpClient.post("v1/dashBoardDetailCount");case 3:return t=e.sent,e.abrupt("return",this._handleResp(t.data));case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"searchLog",value:function(){var e=Object(m["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this._assertUserLoggedIn(),e.next=3,this.httpClient.post("v1/searchLog",t);case 3:return n=e.sent,r=this._handleResp(n.data),e.abrupt("return",null==r?[]:r.map(this._mapLogDto));case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"_handleResp",value:function(e){if(0==e.code)return e.data;throw-2==e.code?(C.$emit("LOGIN_REQUIRED"),e.msg||(e.msg="Login required.")):-3==e.code&&(C.$emit("API_NO_PERMISSION"),e.msg||(e.msg="Permission denied.")),e.msg}},{key:"_assertUserLoggedIn",value:function(){if(!F.state.loggedInUser)throw C.$emit("LOGIN_REQUIRED"),"Login required."}},{key:"_mapInventoryMasterDto",value:function(e){return e?(e.fromTime=ae(e.fromTime,"YYYY/MM/DD"),e.endTime=ae(e.endTime,"YYYY/MM/DD"),e.inPeriod=function(){return ae().isSameOrAfter(e.fromTime)&&ae().isBefore(e.endTime.add(1,"day"))},e.canTakeInventory=function(){return e.inPeriod()&&"ACTIVE"==e.status},e):null}},{key:"_mapInventoryDetailDto",value:function(e){return e?(e.remarkZh=e.remarkCn,e.canEdit=function(){return!0},e.checked=e.actionResult,e):null}},{key:"_mapLogDto",value:function(e){if(!e)return null;var t=JSON.parse(e.input);return t&&delete t["accessToken"],{id:e.id,masterId:e.masterId,masterTitle:e.masterTitle,createDate:ae(e.createDate,"YYYY/MM/DD HH:mm:ss"),functionName:e.functionName,userName:e.userName,input:t,output:JSON.parse(e.output)}}}]),e}(),oe=ie,ue=function e(t){Object(O["a"])(this,e),this.baseUrl=t,this.httpClient=re.a.create({baseURL:t})},ce=ue,le=(n("7db0"),function(){function e(t){Object(O["a"])(this,e),this.baseUrl=t,this.httpClient=re.a.create({baseURL:t})}return Object(D["a"])(e,[{key:"getUserInfoByAccessToken",value:function(){var e=Object(m["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,T(1e3);case 2:if(n=[{username:"john",type:"User",accessToken:"EgovWorkshop2020",deptId:1,roles:["DEPT_USER"]},{username:"admin",type:"Admin",accessToken:"EgovWorkshop2020Admin",deptId:1,roles:["DEPT_ADMIN","DEPT_USER","SYS_ADMIN"]}],r=n.find((function(e){return e.accessToken==t})),r){e.next=6;break}return e.abrupt("return",null);case 6:return e.abrupt("return",{username:r.username,accessToken:r.accessToken,refreshToken:null,deptId:r.deptId,roles:r.roles});case 7:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"signOut",value:function(){var e=Object(m["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()}]),e}()),de=le,pe=function(){function e(){Object(O["a"])(this,e),this._inventoryApi=new oe("http://172.105.234.200:443/api/"),this._assetMgmtApi=new ce(""),this._userMgmtApi=new de("")}return Object(D["a"])(e,[{key:"userMgmtApi",get:function(){return this._userMgmtApi}},{key:"inventoryApi",get:function(){return this._inventoryApi}},{key:"assetMgmtApi",get:function(){return this._assetMgmtApi}}]),e}(),fe=new pe,me={install:function(e){e.prototype.$api=fe}};s["default"].use(me);var he=n("9483");Object(he["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});n("8db5");s["default"].config.productionTip=!1,s["default"].prototype.$bus=C,new s["default"]({router:ee,store:F,i18n:c,render:function(e){return e(j)}}).$mount("#app")},"85ec":function(e,t,n){},"9ea5":function(e){e.exports=JSON.parse('{"assetMgmtSystem":"動產管理系統","inventoryOfAssets":"資產盤點","takeInventory":"進行盤點","createInventoryForm":"建立盤點單","inventoryFormManagement":"盤點單管理","userProfile":"用戶資料","signOut":"登出","dashboard":"儀表板","inquiry":"查詢","language":"語言","save":"儲存","cancel":"取消","confirm":"確定","all":"全部","item":"項目","department":"部門","from":"由","to":"至","editInventoryForm":"編輯盤點單","msg_appStartup":"正在啟動，請稍候。。。","msg_pageNotFound":"頁面不存在。","msg_permissionDenied":"權限不足。","msg_InventoryFormManagement_deleteModal":"刪除盤點單編號","msg_recordNotFound":"找不到記錄。","msg_invalidState":"無效狀態。","inventoryid":"盤點單編號","editordelete":"編輯/刪除","clear":"清空","search":"搜尋","staffId":"員工編號","assetId":"資產編號","assetName":"資產名稱","add":"新增","confirmed":"已確認","delete":"刪除","remark":"備註","actions":"動作","status":"狀態","active":"有效","inactive":"無效","title":"標題","id":"編號","edit":"編輯","loading":"載入中","message":"訊息","ok":"好的","error":"錯誤","confirmation":"確認","invalid":"無效","transferOfAssets":"資產轉移","assetsManagement":"資產管理","reports":"報表","backToHomePage":"返回首頁","msg_operationSuccess":"操作成功。","fmt_msg_error":"發生錯誤：{msg}","fmt_msg_confirmDeleteInventoryMaster":"您是否確定要刪除盤點單{id}-{title}？","fmt_msg_confirmDeleteInventoryDetail":"您是否確定要刪除盤點資產{assetId}-{description}？","dashboard_counted":"已盤點","dashboard_notcounted":"未盤點","logs":"日誌","input":"輸入","output":"輸出","user":"使用者","time":"時間","action":"動作","inventoryForm":"盤點單","showDetails":"顯示詳情","hideDetails":"隱藏詳情","filter":"飾選","inventoryFormId":"盤點單編號","inventoryFormTitle":"盤點單標題","refresh":"刷新","view":"檢視","viewInventoryForm":"檢視盤點單","details":"詳情","assets":"資產","description":"描述","brand":"品牌","notInventoried":"未盤點","result":"結果","inventoryStatistics":"盤點統計資料"}')},edd4:function(e){e.exports=JSON.parse('{"assetMgmtSystem":"Asset management system","inventoryOfAssets":"Inventory of assets","takeInventory":"Take inventory","createInventoryForm":"Create inventory form","inventoryFormManagement":"Inventory form management","userProfile":"User profile","signOut":"Sign out","dashboard":"Dashboard","inquiry":"Inquiry","language":"Language","save":"Save","cancel":"Cancel","confirm":"Confirm","all":"All","item":"Item","department":"Department","from":"From","to":"To","editInventoryForm":"Edit inventory form","msg_appStartup":"Application starting up, please wait...","msg_pageNotFound":"Page not found.","msg_permissionDenied":"Permission denied.","msg_InventoryFormManagement_deleteModal":"Delete inventory No.","msg_recordNotFound":"Record not found.","msg_invalidState":"Invalid state.","inventoryid":"Inventory ID","editordelete":"Edit/Delete","clear":"Clear","search":"Search","staffId":"Staff ID","assetId":"Asset ID","assetName":"Asset name","add":"Add","confirmed":"Confirmed","delete":"Delete","remark":"Remark","actions":"Actions","status":"Status","active":"Active","inactive":"Inactive","title":"Title","id":"ID","edit":"Edit","loading":"Loading","message":"Message","ok":"OK","error":"Error","confirmation":"Confirmation","invalid":"Invalid","transferOfAssets":"Transfer of assets","assetsManagement":"Assets management","reports":"Reports","backToHomePage":"Back to home","msg_operationSuccess":"Operation success.","fmt_msg_error":"Error occurred: {msg}","fmt_msg_confirmDeleteInventoryMaster":"Are you sure to delete the inventory master no. {id}-{title}?","fmt_msg_confirmDeleteInventoryDetail":"Are you sure to delete the inventory asset {assetId}-{description}?","dashboard_counted":"counted","dashboard_notcounted":"not counted","logs":"Logs","input":"Input","output":"Output","user":"User","time":"Time","action":"Action","inventoryForm":"Inventory form","showDetails":"Show details","hideDetails":"Hide details","filter":"Filter","inventoryFormId":"Inventory form ID","inventoryFormTitle":"Inventory form title","refresh":"Refresh","view":"View","viewInventoryForm":"View inventory form","details":"Details","assets":"Assets","description":"Description","brand":"Brand","notInventoried":"Not inventoried","result":"Result","inventoryStatistics":"Inventory statistics"}')}});
//# sourceMappingURL=app.7a906314.js.map