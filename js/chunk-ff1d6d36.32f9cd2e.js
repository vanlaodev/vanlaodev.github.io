(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ff1d6d36"],{"4f09":function(t,e,n){},a6dd:function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-card",{staticClass:"shadow-sm",attrs:{title:"正在盤單清單"}},[t.loading?n("div",[t._v(t._s(t.$t("loading"))+"...")]):n("div",{staticClass:"view-container"},[n("div",{staticClass:"content-container"},[n("div",{staticClass:"inventory-master-list-container"},[t.masters&&t.masters.length>0?n("ul",t._l(t.masters,(function(e){return n("li",{key:e.id},[n("button",{staticClass:"link-button",on:{click:function(n){return t.clickMasterLink(e)}}},[n("div",{staticClass:"inventory-master-content"},[n("div",{staticClass:"inventory-master-content-name button-row"},[t._v(" "+t._s(e.title)+" ")]),n("div",{staticClass:"inventory-master-content-time button-row"},[t._v(" "+t._s(e.fromTime.format("DD/MM/YYYY"))+" - "+t._s(e.endTime.format("DD/MM/YYYY"))+" ")])])])])})),0):n("h5",[t._v("當前沒有與您相關的盤點工作")])])])]),n("message-dialog",{attrs:{ctx:t.msgDialogCtx}})],1)},i=[],a=n("c964"),r=n("f3f3"),o=(n("96cf"),n("d3b7"),n("4de4"),n("2f62")),l=n("d5bc"),c={components:{MessageDialog:l["a"]},data:function(){return{loading:!1,userInventoryMaster:[{id:1,masterName:"2021年第一季盤點",masterTime:"2021-03-01 至 2021-03-15"},{id:2,masterName:"2020年第四季盤點",masterTime:"2020-12-01 至 2020-12-31"}],msgDialogCtx:{visible:!1,title:"",message:"",resolve:null},masters:[]}},computed:Object(r["a"])({},Object(o["d"])(["loggedInUser"])),methods:{showMsgDialog:function(t,e){var n=this;return new Promise((function(s){n.msgDialogCtx.title=e,n.msgDialogCtx.message=t,n.msgDialogCtx.resolve=s,n.msgDialogCtx.visible=!0}))},clickMasterLink:function(t){this.$router.push({name:"TakeInventoryDetail",params:{id:t.id}})},loadMasters:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.loading){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,t.loading=!0,e.next=6,t.$api.inventoryApi.searchMasterByOwner(t.loggedInUser.username);case 6:n=e.sent,t.masters=n?n.filter((function(t){return t.canTakeInventory()})):[],e.next=14;break;case 10:return e.prev=10,e.t0=e["catch"](2),e.next=14,t.showMsgDialog(e.t0,t.$t("error"));case 14:return e.prev=14,t.loading=!1,e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[2,10,14,17]])})))()}},mounted:function(){this.loadMasters()}},u=c,m=(n("b3d0"),n("2877")),d=Object(m["a"])(u,s,i,!1,null,"296177dc",null);e["default"]=d.exports},b3d0:function(t,e,n){"use strict";n("4f09")},d5bc:function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return null!=t.ctx?n("b-modal",{attrs:{title:t.modalTitle,"ok-only":"","ok-title":t.$t("ok")},on:{change:t.onChange},model:{value:t.ctx.visible,callback:function(e){t.$set(t.ctx,"visible",e)},expression:"ctx.visible"}},[n("p",{staticClass:"my-1"},[t._v(t._s(t.ctx.message))])]):t._e()},i=[],a={name:"MessageDialog",props:["ctx"],computed:{modalTitle:function(){return null!=this.ctx&&null!=this.ctx.title&&this.ctx.title.length>0?this.ctx.title:this.$t("message")}},methods:{onChange:function(t){null!=this.ctx&&this.ctx.resolve&&!t&&this.ctx.resolve()}}},r=a,o=n("2877"),l=Object(o["a"])(r,s,i,!1,null,null,null);e["a"]=l.exports}}]);
//# sourceMappingURL=chunk-ff1d6d36.32f9cd2e.js.map